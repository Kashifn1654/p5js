<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>p5js Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/p5.js"></script>

    <script>
        var balls = []
        var size
        var positionY

        function setup() {
            createCanvas(500, 450)
            positionY = height - 30
            rectMode(CENTER)
            size = 50
            noCursor()
        }

        function draw() {
            background(51)
            for (i = 0; i < balls.length; i++) {
                balls[i].display() // shows the balls 
                balls[i].move() // moves the ball 
                balls[i].detect() // cfhecks collision
       
            }

            fill(0)
            rect(mouseX, positionY, size, size) // controlled by the user 

            if (frameCount % 15 == 0) { // create a ball continously
                balls.push(new Ball())
            }
        }

        function Ball() {
            this.x = random(0, 450) // starts from the begining
            this.y = random(-200, 0);
            this.r = 15

            this.display = function() {
                fill(255, 100, 100)
                ellipse(this.x, this.y, this.r * 2, this.r * 2)// random starting point and width is 30
            }

            this.move = function() {
                this.y += 8 // this controlls how fast the ball moves 
            }

            this.detect = function() { // checks if the ellipse has been hit by the ball
                var d = dist(mouseX, positionY, this.x, this.y)
                if (d < 20) { // if distance is less then 20 then (the middle)
                  size = 0
                  textSize(70)
                  textAlign(CENTER)
                  text("Game Over",width/2,height/2)
                  noLoop();
                  

                }
            }

        }
    </script>
</head>

<body>
<form><input TYPE="button" onClick="history.go(0)" value="Reset"></form>
    <div id="code" class="container-fluid">
        <script src="https://gist-it.appspot.com/github/kashifn1654/p5js/blob/master/object-block.html?footer=0"></script>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        $(window).bind("load", function() {
            $('#code').before($('#defaultCanvas0').remove());
        });
    </script>
</body>



</html>
